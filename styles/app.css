:root {
	--accent-bg-soft: rgba(217, 70, 239, 0.1);
	--accent-bg: rgba(217, 70, 239, 0.15);
	--accent-bg-hover: rgba(217, 70, 239, 0.2);
	--accent-badge-bg: rgba(217, 70, 239, 0.2);
	--accent-strong: rgba(217, 70, 239, 0.6);
	--accent-strong-hover: rgba(217, 70, 239, 0.7);
	--accent-strong-active: rgba(217, 70, 239, 0.8);
	--accent-border: rgba(217, 70, 239, 0.3);
	--accent-border-strong: rgba(217, 70, 239, 0.4);
	--accent-text: rgba(253, 242, 255, 0.98);
	--accent-text-soft: rgba(244, 114, 182, 0.95);
	--accent-ring: rgba(217, 70, 239, 0.25);
	--accent-ring-strong: rgba(217, 70, 239, 0.4);
	--blockquote-border: rgba(217, 70, 239, 0.45);
	--blockquote-text: rgba(226, 232, 240, 0.9);
	--scrollbar-thumb: rgba(148, 163, 184, 0.3);
	--scrollbar-thumb-hover: rgba(148, 163, 184, 0.45);
	--scrollbar-border: rgba(2, 6, 23, 0.35);
}

* {
	scrollbar-width: thin;
	scrollbar-color: var(--scrollbar-thumb) transparent;
}
*::-webkit-scrollbar {
	width: 10px;
	height: 10px;
}
*::-webkit-scrollbar-track {
	background: transparent;
}
*::-webkit-scrollbar-thumb {
	background-color: var(--scrollbar-thumb);
	border-radius: 999px;
	border: 2px solid var(--scrollbar-border);
}
*::-webkit-scrollbar-thumb:hover {
	background-color: var(--scrollbar-thumb-hover);
}

html,
body {
	width: 100%;
	height: 100%;
}

body {
	min-height: 100vh;
	min-height: 100dvh;
	padding: 16px;
	box-sizing: border-box;
	overflow: hidden;
}

main.relative {
	margin: 0;
	width: 100%;
	height: 100%;
}

@media (min-width: 640px) {
	main.relative {
		margin: 0;
		width: 100%;
		height: 100%;
	}
}

@media (min-width: 1024px) {
	main.relative {
		width: 100%;
		max-width: 100%;
	}
}

#mainGrid,
#editorPanel,
#psPanel {
	min-width: 0;
}

.bg-glow {
	position: fixed;
	inset: 0;
	overflow: hidden;
	pointer-events: none;
	z-index: 0;
}

body.glow-disabled .bg-glow {
	display: none;
}

.bg-blob {
	position: absolute;
	width: 60vmax;
	height: 60vmax;
	border-radius: 999px;
	filter: blur(140px);
	opacity: 0.81;
	left: 50%;
	transform: translateX(-50%);
}

.bg-blob-top {
	top: -22vmax;
}

.bg-blob-bottom {
	bottom: -26vmax;
}

.theme-swatch {
	width: 1.1rem;
	height: 1.1rem;
	border-radius: 999px;
	background: linear-gradient(180deg, var(--swatch-top), var(--swatch-bottom));
	box-shadow:
		inset 0 0 0 1px rgba(255, 255, 255, 0.18),
		0 8px 16px rgba(0, 0, 0, 0.35);
}

#psTagsPanel {
	max-height: 62.5vh;
	overflow-y: auto;
	padding-right: 0.25rem;
}

#psList {
	overflow-x: hidden;
}

.ps-tag-section {
	--ps-tag-bg: rgba(217, 70, 239, 0.08);
	--ps-tag-bg-strong: rgba(217, 70, 239, 0.18);
	--ps-tag-border: rgba(217, 70, 239, 0.25);
	--ps-tag-border-strong: rgba(217, 70, 239, 0.45);
	--ps-tag-text: rgba(226, 232, 240, 0.95);
	--ps-tag-text-strong: rgba(253, 242, 255, 0.98);
	--ps-tag-icon: rgba(217, 70, 239, 0.8);
}
.ps-tag-section-year {
	--ps-tag-bg: rgba(56, 189, 248, 0.1);
	--ps-tag-bg-strong: rgba(56, 189, 248, 0.2);
	--ps-tag-border: rgba(56, 189, 248, 0.3);
	--ps-tag-border-strong: rgba(56, 189, 248, 0.55);
	--ps-tag-text: rgba(224, 242, 254, 0.95);
	--ps-tag-text-strong: rgba(240, 249, 255, 0.98);
	--ps-tag-icon: rgba(56, 189, 248, 0.9);
}
.ps-tag-section-month {
	--ps-tag-bg: rgba(14, 165, 233, 0.1);
	--ps-tag-bg-strong: rgba(14, 165, 233, 0.22);
	--ps-tag-border: rgba(14, 165, 233, 0.32);
	--ps-tag-border-strong: rgba(14, 165, 233, 0.6);
	--ps-tag-text: rgba(224, 242, 254, 0.95);
	--ps-tag-text-strong: rgba(240, 249, 255, 0.98);
	--ps-tag-icon: rgba(14, 165, 233, 0.9);
}
.ps-tag-section-category {
	--ps-tag-bg: rgba(52, 211, 153, 0.1);
	--ps-tag-bg-strong: rgba(52, 211, 153, 0.22);
	--ps-tag-border: rgba(52, 211, 153, 0.32);
	--ps-tag-border-strong: rgba(52, 211, 153, 0.6);
	--ps-tag-text: rgba(209, 250, 229, 0.95);
	--ps-tag-text-strong: rgba(236, 253, 245, 0.98);
	--ps-tag-icon: rgba(52, 211, 153, 0.9);
}
.ps-tag-section-subcategory {
	--ps-tag-bg: rgba(163, 230, 53, 0.1);
	--ps-tag-bg-strong: rgba(163, 230, 53, 0.2);
	--ps-tag-border: rgba(163, 230, 53, 0.32);
	--ps-tag-border-strong: rgba(163, 230, 53, 0.6);
	--ps-tag-text: rgba(236, 252, 203, 0.95);
	--ps-tag-text-strong: rgba(247, 254, 231, 0.98);
	--ps-tag-icon: rgba(163, 230, 53, 0.9);
}
.ps-tag-section-kind {
	--ps-tag-bg: rgba(251, 191, 36, 0.1);
	--ps-tag-bg-strong: rgba(251, 191, 36, 0.22);
	--ps-tag-border: rgba(251, 191, 36, 0.35);
	--ps-tag-border-strong: rgba(251, 191, 36, 0.65);
	--ps-tag-text: rgba(254, 249, 195, 0.95);
	--ps-tag-text-strong: rgba(254, 252, 232, 0.98);
	--ps-tag-icon: rgba(251, 191, 36, 0.95);
}
.ps-tag-section-language {
	--ps-tag-bg: rgba(129, 140, 248, 0.1);
	--ps-tag-bg-strong: rgba(129, 140, 248, 0.22);
	--ps-tag-border: rgba(129, 140, 248, 0.35);
	--ps-tag-border-strong: rgba(129, 140, 248, 0.65);
	--ps-tag-text: rgba(224, 231, 255, 0.95);
	--ps-tag-text-strong: rgba(238, 242, 255, 0.98);
	--ps-tag-icon: rgba(129, 140, 248, 0.9);
}
.ps-tag-section-other {
	--ps-tag-bg: rgba(148, 163, 184, 0.1);
	--ps-tag-bg-strong: rgba(148, 163, 184, 0.22);
	--ps-tag-border: rgba(148, 163, 184, 0.35);
	--ps-tag-border-strong: rgba(148, 163, 184, 0.65);
	--ps-tag-text: rgba(226, 232, 240, 0.95);
	--ps-tag-text-strong: rgba(241, 245, 249, 0.98);
	--ps-tag-icon: rgba(148, 163, 184, 0.9);
}
.ps-tag-button.ps-tag-button-group {
	border-color: var(--ps-tag-border) !important;
	background-color: var(--ps-tag-bg) !important;
	color: var(--ps-tag-text) !important;
}
.ps-tag-button.ps-tag-button-group.ps-tag-active {
	border-color: var(--ps-tag-border-strong) !important;
	background-color: var(--ps-tag-bg-strong) !important;
	color: var(--ps-tag-text-strong) !important;
	box-shadow: 0 0 0 1px var(--ps-tag-border-strong) inset;
}
.ps-tag-icon {
	display: inline-flex;
	align-items: center;
	justify-content: center;
	color: var(--ps-tag-icon);
}
.ps-tag-icon svg {
	width: 0.95rem;
	height: 0.95rem;
}

.ps-note-item.ps-note-active .ps-note-actions,
.ps-note-item:hover .ps-note-actions {
	opacity: 1 !important;
	pointer-events: auto !important;
	transform: none !important;
}
.ps-note-actions {
	opacity: 0;
	pointer-events: none;
	transform: translateY(-2px);
	transition: opacity 0.2s ease, transform 0.2s ease;
}
.ps-note-item:hover .ps-note-actions,
.ps-note-item.ps-note-active .ps-note-actions {
	opacity: 1;
	pointer-events: auto;
	transform: none;
}
.md-content a {
	color: rgb(96 165 250);
	text-decoration: underline;
	text-underline-offset: 3px;
}
.md-content code,
.md-content pre {
	font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
		"Liberation Mono", "Courier New", monospace;
}
#mirror.pw-mask-enabled {
	color: transparent;
	caret-color: rgb(226 232 240);
}
#mirror.pw-mask-enabled::selection {
	background: rgba(217, 70, 239, 0.35);
}
#mirror.pw-mask-enabled::-moz-selection {
	background: rgba(217, 70, 239, 0.35);
}
#mirrorMask {
	white-space: pre-wrap;
	word-break: break-word;
}
#attributionOverlay {
	z-index: 5;
}
#attributionOverlayContent {
	white-space: pre-wrap;
	word-break: break-word;
}
#commentOverlay {
	z-index: 4;
}
#commentOverlayContent {
	white-space: pre-wrap;
	word-break: break-word;
	color: transparent;
}
.comment-span {
	background: rgba(217, 70, 239, 0.25);
	box-shadow: inset 0 0 0 1px rgba(217, 70, 239, 0.45);
	border-radius: 0.35rem;
	padding: 0 0.04em;
	margin: 0 -0.02em;
	box-decoration-break: clone;
	-webkit-box-decoration-break: clone;
}
.comment-badge {
	background: var(--accent-strong);
	border-color: var(--accent-border-strong);
	color: var(--accent-text);
}
@media (min-width: 1024px) {
	#editorPreviewGrid.comment-panel-open #mirror,
	#editorPreviewGrid.comment-panel-open #mirrorMask,
	#editorPreviewGrid.comment-panel-open #attributionOverlay,
	#editorPreviewGrid.comment-panel-open #commentOverlay {
		padding-right: calc(2.75rem + 420px + 16px);
	}
}
#editorPreviewGrid.comment-panel-open #copyMirror {
	display: none;
}
#mirror.attribution-active {
	color: transparent;
	caret-color: rgb(226 232 240);
	background-color: transparent !important;
}
#mirror.attribution-active::selection {
	background: rgba(217, 70, 239, 0.25);
}
#mirror.attribution-active::-moz-selection {
	background: rgba(217, 70, 239, 0.25);
}
.author-span {
	border-radius: 0.35rem;
	box-shadow: inset 0 0 0 1px rgba(148, 163, 184, 0.45);
	padding: 0 0.04em;
	margin: 0 -0.02em;
	box-decoration-break: clone;
	-webkit-box-decoration-break: clone;
}
#mirrorMaskContent {
	min-height: 100%;
	transform: translate(0, 0);
	will-change: transform;
}
#mirrorMaskContent .pw-editor-token {
	filter: blur(6px);
	opacity: 0.7;
}
.md-content .pw-field {
	display: inline-flex;
	align-items: center;
	gap: 0.35rem;
	padding: 0.1rem 0.45rem;
	border-radius: 999px;
	border: 1px solid rgba(255, 255, 255, 0.12);
	background: rgba(15, 23, 42, 0.6);
	font-size: 0.85em;
	line-height: 1.2;
}
.md-content .pw-mask {
	letter-spacing: 0.18em;
	font-weight: 600;
	color: rgba(226, 232, 240, 0.9);
}
.md-content .pw-value {
	display: none;
	font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
		"Liberation Mono", "Courier New", monospace;
	color: rgba(226, 232, 240, 0.95);
}
.md-content .pw-field.pw-revealed .pw-mask {
	display: none;
}
.md-content .pw-field.pw-revealed .pw-value {
	display: inline;
}
.md-content .pw-toggle,
.md-content .pw-copy {
	display: inline-flex;
	align-items: center;
	justify-content: center;
	height: 1.4rem;
	min-width: 1.4rem;
	padding: 0 0.35rem;
	border-radius: 999px;
	border: 1px solid rgba(255, 255, 255, 0.12);
	background: rgba(255, 255, 255, 0.06);
	color: rgba(226, 232, 240, 0.9);
	font-size: 0.75rem;
	line-height: 1;
	cursor: pointer;
}
.md-content .pw-toggle:hover,
.md-content .pw-copy:hover {
	background: rgba(255, 255, 255, 0.12);
}
.md-content pre {
	overflow: auto;
	border: 1px solid rgba(255, 255, 255, 0.08);
	border-radius: 12px;
	padding: 10px;
	background: rgba(2, 6, 23, 0.6);
}
.md-content code {
	background: rgba(255, 255, 255, 0.06);
	padding: 0.1em 0.3em;
	border-radius: 0.35em;
}
.md-content pre code {
	background: transparent;
	padding: 0;
}
.md-content table {
	border-collapse: collapse;
	width: 100%;
}
.md-content th,
.md-content td {
	border: 1px solid rgba(255, 255, 255, 0.12);
	padding: 6px 8px;
}
.md-content blockquote {
	border-left: 3px solid var(--blockquote-border);
	margin: 0;
	padding: 0 12px;
	color: var(--blockquote-text);
}
.md-content ul.task-list {
	list-style: none;
	padding-left: 0;
}
.md-content ul.task-list li {
	display: flex;
	gap: 0.55rem;
	align-items: flex-start;
}
/* Keep completed todos visibly marked */
.md-content ul.task-list li.task-list-item.checked {
	opacity: 0.75;
	text-decoration: line-through;
	text-decoration-thickness: 2px;
	text-decoration-color: rgba(148, 163, 184, 0.7);
}
.md-content
	ul.task-list
	li.task-list-item.checked
	input[type="checkbox"] {
	opacity: 1;
}
.md-content ul.task-list input[type="checkbox"] {
	margin-top: 0.2rem;
	accent-color: var(--accent-strong);
}
.md-content ul li::marker,
.md-content ol li::marker {
	color: var(--accent-text-soft);
}
.mobile-only {
	display: none !important;
}
body.preview-only #editorPreviewGrid {
	grid-template-columns: 1fr !important;
}
body.preview-only #editorPreviewGrid > div:first-child {
	display: none !important;
}
@media (max-width: 1023px) {
	.mobile-only {
		display: inline-flex !important;
	}
	body.mobile-preview-open main,
	body.mobile-editor-open main,
	body.mobile-ps-open main,
	body.mobile-note-open main {
		width: 100vw;
		width: 100dvw;
		height: 100vh;
		height: 100dvh;
		margin: 0;
	}
	body.mobile-preview-open #psPanel,
	body.mobile-note-open #psPanel,
	body.mobile-ps-open #editorPanel,
	body.mobile-ps-open #previewPanel,
	body.mobile-note-open #previewPanel,
	body.mobile-editor-open #psPanel {
		display: none;
	}
	body.mobile-preview-open #previewPanel {
		position: fixed;
		inset: 0;
		width: 100vw;
		height: 100vh;
		z-index: 70;
		display: flex;
		flex-direction: column;
		pointer-events: auto;
		border-radius: 0;
	}
	body.mobile-preview-open #editorPanel > header {
		display: none;
	}
	body.mobile-preview-open #editorPreviewGrid > div:first-child {
		display: none;
	}
	body.mobile-ps-open #psPanel {
		position: fixed;
		inset: 0;
		width: 100vw;
		height: 100vh;
		z-index: 70;
		display: flex;
		flex-direction: column;
		pointer-events: auto;
		border-radius: 0;
		overflow: hidden;
	}
	body.mobile-ps-open #psList {
		overflow-y: auto;
		-webkit-overflow-scrolling: touch;
		max-height: none;
	}
	body.mobile-note-open #editorPanel,
	body.mobile-editor-open #editorPanel {
		position: fixed;
		inset: 0;
		width: 100vw;
		height: 100vh;
		z-index: 70;
		pointer-events: auto;
		border-radius: 0;
	}
	body.mobile-note-open #editorPanel > header,
	body.mobile-editor-open #editorPanel > header {
		flex: 0 0 auto;
	}
	body:not(.mobile-preview-open) #previewCloseMobile {
		display: none;
	}
	body:not(.mobile-ps-open) #psCloseMobile {
		display: none;
	}
	body:not(.mobile-note-open) #noteCloseMobile {
		display: none;
	}
	#settingsRoot {
		padding: 0;
		align-items: stretch;
		justify-content: stretch;
		z-index: 120;
	}
	#settingsPanel {
		width: 100vw;
		height: 100vh;
		max-height: none;
		border-radius: 0;
		z-index: 121;
	}
	#settingsNav {
		position: sticky;
		top: 0;
		z-index: 1;
		background: rgba(2, 6, 23, 0.85);
		backdrop-filter: blur(8px);
	}
	#settingsPanel > header {
		position: sticky;
		top: 0;
		z-index: 2;
		background: rgba(2, 6, 23, 0.85);
		backdrop-filter: blur(8px);
	}
}

.bg-fuchsia-500\/15 {
	background-color: var(--accent-bg) !important;
}
.bg-fuchsia-600\/20 {
	background-color: var(--accent-bg) !important;
}
.bg-fuchsia-500\/10 {
	background-color: var(--accent-bg-soft) !important;
}
.bg-fuchsia-500\/20 {
	background-color: var(--accent-bg-hover) !important;
}
.bg-fuchsia-600\/60 {
	background-color: var(--accent-strong) !important;
}
.hover\:bg-fuchsia-600\/70:hover {
	background-color: var(--accent-strong-hover) !important;
}
.active\:bg-fuchsia-600\/80:active {
	background-color: var(--accent-strong-active) !important;
}
.hover\:bg-fuchsia-500\/20:hover {
	background-color: var(--accent-bg-hover) !important;
}
.border-fuchsia-400\/30 {
	border-color: var(--accent-border) !important;
}
.border-fuchsia-500\/30 {
	border-color: var(--accent-border) !important;
}
.border-fuchsia-400\/40 {
	border-color: var(--accent-border-strong) !important;
}
.text-fuchsia-100 {
	color: var(--accent-text) !important;
}
.text-fuchsia-200 {
	color: var(--accent-text-soft) !important;
}
.text-fuchsia-300 {
	color: var(--accent-text-soft) !important;
}
.ring-fuchsia-400\/30 {
	--tw-ring-color: var(--accent-ring) !important;
}
.focus\:ring-fuchsia-400\/30:focus,
.focus\:ring-fuchsia-400\/25:focus {
	--tw-ring-color: var(--accent-ring) !important;
}
.focus\:ring-fuchsia-400\/40:focus,
.ring-fuchsia-400\/40 {
	--tw-ring-color: var(--accent-ring-strong) !important;
}

.calendar-event {
	position: relative;
	cursor: pointer;
}

.calendar-event[data-tooltip]::after,
.calendar-event[data-tooltip]::before {
	opacity: 0;
	transform: translate(-50%, -6px);
	pointer-events: none;
	transition: opacity 0.15s ease, transform 0.15s ease;
}

.calendar-event[data-tooltip]::after {
	content: attr(data-tooltip);
	position: absolute;
	left: 50%;
	bottom: calc(100% + 10px);
	width: 220px;
	max-width: 220px;
	min-width: 120px;
	padding: 6px 10px;
	border-radius: 10px;
	border: 1px solid rgba(255, 255, 255, 0.12);
	background: rgba(2, 6, 23, 0.92);
	color: rgba(226, 232, 240, 0.95);
	font-size: 11px;
	line-height: 1.4;
	white-space: normal;
	text-align: left;
	box-shadow:
		0 8px 24px rgba(15, 23, 42, 0.45),
		inset 0 0 0 1px rgba(255, 255, 255, 0.05);
	z-index: 30;
}

.calendar-event[data-tooltip]::before {
	content: "";
	position: absolute;
	left: 50%;
	bottom: calc(100% + 4px);
	width: 8px;
	height: 8px;
	background: rgba(2, 6, 23, 0.92);
	border-left: 1px solid rgba(255, 255, 255, 0.12);
	border-bottom: 1px solid rgba(255, 255, 255, 0.12);
	transform: translate(-50%, -6px) rotate(45deg);
	z-index: 29;
}

.calendar-event[data-tooltip]:hover::after,
.calendar-event[data-tooltip]:hover::before {
	opacity: 1;
	transform: translate(-50%, 0);
}
